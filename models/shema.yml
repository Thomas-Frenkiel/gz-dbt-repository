version: 2
sources:
  - name: raw # allias de la table
    schema: gz_raw_data #Nom exact du dataset dans BQ
    description: greenwez raw data source
    tables:
      - name: sales # allias de la table
        identifier: raw_gz_sales #Nom exact de la table dans BQ
        description: sales of greewneez / we have one row per product_id found in each order_id
        columns:
          - name: "(orders_id || '-' || pdt_id)"
            description: primary key of the table
            tests:
              - unique
              - not_null
      - name: product
        identifier: raw_product
        description: purchase_price by products_id
        columns:
          - name: products_id
            description: primary key of the table
            tests:
              - unique
              - not_null
      - name: ship
        identifier: raw_gz_ship
        description: ship by orders_id
        columns:
          - name: orders_id
            description: primary key of the table
            tests:
              - unique
              - not_null

              

#BING AD
      - name: raw_gz_bing # allias de la table
        identifier: raw_gz_bing #Nom exact de la table dans BQ
        description: bing  date_date _ campaign_key
        columns:
          - name: date_date
            description: no need
          - name: paid_source
            description: no need
          - name: campaign_key
            description: no need
          - name:  camPGN_name
            description: no need
          - name: ads_cost
            description: no need
          - name: impression
            description: no need
          - name: click
            description: no need
          # - name: "(date_date || '-' || campaign_key)"
          #   description: primary key of the table
          #   tests:
          #     - unique
          #     - not_null
      
#FACEBOOK 
      - name: raw_gz_facebook # allias de la table
        identifier: raw_gz_facebook #Nom exact de la table dans BQ
        description: facebook  date_date _ campaign_key
        columns:
          - name: date_date
            description: no need
          - name: paid_source
            description: no need
          - name: campaign_key
            description: no need
          - name:  camPGN_name
            description: no need
          - name: ads_cost
            description: no need
          - name: impression
            description: no need
          - name: click
            description: no need
          # - name: "(date_date || '-' || campaign_key)"
          #   description: primary key of the table
          #   tests:
          #     - unique

#CRITEO
      - name: raw_gz_criteo # allias de la table
        identifier: raw_gz_criteo #Nom exact de la table dans BQ
        description: criteo  date_date _ campaign_key
        columns:
          - name: date_date
            description: no need
          - name: paid_source
            description: no need
          - name: campaign_key
            description: no need
          - name:  camPGN_name
            description: no need
          - name: ads_cost
            description: no need
          - name: impression
            description: no need
          - name: click
            description: no need
          # - name: "(date_date || '-' || campaign_key)"
          #   description: primary key of the table
          #   tests:
          #     - unique
          #     - not_null

#ADWORDS
      - name: raw_gz_adwords # allias de la table
        identifier: raw_gz_adwords #Nom exact de la table dans BQ
        description: adwords  date_date _ campaign_key
        columns:
          - name: date_date
            description: no need
          - name: paid_source
            description: no need
          - name: campaign_key
            description: no need
          - name:  camPGN_name
            description: no need
          - name: ads_cost
            description: no need
          - name: impression
            description: no need
          - name: click
            description: no need
          # - name: "(date_date || '-' || campaign_key)"
          #   description: primary key of the table
          #   tests:
          #     - unique
          #     - not_null